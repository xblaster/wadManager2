<div>

   <!--<div ng-repeat="(key, budget) in computedBudgets" class="col-xs-2">
    <h1>{{key}}</h1>
    <table class="table">
        <tr ng-repeat="(tagName, tagContent) in budget.tags">
            <td>{{tagName}}</td>
            <td>{{tagContent.consumed}}</td>
        </tr>

    </table>

</div>-->
    <a class="btn btn-primary" ng-click="details = !details">Afficher/cacher les détails</a>
    <hr/>

    <table class="table table-bordered table-condensed table-striped" id="overview">
        <tr>
            <th>Tag</th>
            <th ng-class="{'active': getSelectedMonth() == key}" ng-click="setSelectedMonth(key)" ng-repeat="(key, budget) in computedBudgets">{{key}}</th>
        </tr>

        <!-- normal tag -->
        <tr ng-repeat="tag in normalTag">
            <td>{{tag}}</td>
            <td ng-repeat="(key, budget) in computedBudgets" style="text-align: right">
                <span ng-class="{'text-success': budget.tags[tag].credit, 'text-danger': !budget.tags[tag].credit} ">{{budget.tags[tag].displayVal | number:2}}€</span>
                <!--<span>{{budget.tags[tag]}}</span>-->
                <span ng-if="details" class="text-muted small"><br/>{{budget.tags[tag].displayNote}}</span>
            </td>
        </tr>


        <!--extra tag -->
        <tr>
        <td colspan="10">
               <p>Autre</p>
        </td>
        </tr>
        <tr ng-repeat="tag in extraTag">
            <td>{{tag}}</td>
            <td ng-repeat="(key, budget) in computedBudgets" style="text-align: right">
                <span ng-class="{'text-success': budget.tags[tag].credit, 'text-danger': !budget.tags[tag].credit} ">{{budget.tags[tag].displayVal | number:2}}€</span>
                <!--<span>{{budget.tags[tag]}}</span>-->
                <span ng-if="details" class="text-muted small"><br/>{{budget.tags[tag].displayNote}}</span>
            </td>
        </tr>

        <tr style="border-top: 0.2em solid #999">
            <td>Solde</td>
            <td ng-repeat="(key, budget) in computedBudgets" style="text-align: right">
                <span class="text-success">{{budget.displayIncome | number:2}}€</span><br/>
                <span class="text-danger">{{budget.displayOutcome| number:2}}€</span><br/>
                {{budget.displayBalance | number:2}}€
            </td>
        </tr>

        <tr>
            <td>Total</td>
            <td ng-repeat="(key, budget) in computedBudgets" style="text-align: right">
                <span>{{budget.total | number:2}}€</span><br/>

            </td>
        </tr>
    </table>
</div>
</div>
